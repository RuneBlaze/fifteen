# name: CI

# on:
#   push:
#   pull_request:

# jobs:
#   linux:
#     runs-on: ubuntu-latest
#     env:
#       PYO3_PYTHON: python3.7
#     steps:
#     - uses: actions/checkout@v3
#     - uses: actions/setup-python@v4
#       id: cpy
#       with:
#         python-version: 3.7
#         # architecture: x64
#     - uses: messense/maturin-action@v1
#       with:
#         manylinux: 2014
#         command: build
#         args: -f --release --sdist -o dist
#     - name: Upload wheels
#       uses: actions/upload-artifact@v2
#       with:
#         name: wheels
#         path: dist

#   windows:
#     runs-on: windows-latest
#     steps:
#     - uses: actions/checkout@v3
#     - uses: messense/maturin-action@v1
#       with:
#         command: build
#         args: --release -o dist
#     - name: Upload wheels
#       uses: actions/upload-artifact@v2
#       with:
#         maturin-version: latest
#         name: wheels
#         path: dist

#   macos:
#     runs-on: macos-latest
#     steps:
#     - uses: actions/checkout@v3
#     - uses: messense/maturin-action@v1
#       with:
#         maturin-version: latest
#         command: build
#         args: --release -o dist --universal2
#     - name: Upload wheels
#       uses: actions/upload-artifact@v2
#       with:
#         name: wheels
#         path: dist

#   release:
#     name: Release
#     runs-on: ubuntu-latest
#     if: "startsWith(github.ref, 'refs/tags/')"
#     needs: [ macos, windows, linux ]
#     steps:
#       - uses: actions/download-artifact@v2
#         with:
#           name: wheels
#       - name: Publish to PyPI
#         uses: messense/maturin-action@v1
#         env:
#           MATURIN_PYPI_TOKEN: ${{ secrets.PYPI_API_TOKEN }}
#         with:
#           maturin-version: latest
#           command: upload
#           args: --skip-existing *